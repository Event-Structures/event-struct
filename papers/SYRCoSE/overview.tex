\section{Overview}

In this section we sketch the design principles of our library. 

We build our mechanisation on top of the \mathcomp~\cite{Mahboubi-Tassi:MATHCOMP17} library 
using the \ssreflect~\cite{Gonthier-al:SSR2016} extension of the \coq system.
We also use the \emph{small-scale reflection} 
methodology~\cite{Gonthier-Assia:SSR2010, Gonthier-al:SSR2016}, 
a key ingredient of \ssreflect. 

The small-scale reflection approach is based on 
pervasive use of symbolic representations \emph{intermixed}
with logical ones within the confines of the same proof goal,
as opposed to large-scale reflection which does not allow such mixing.
Symbolic representations are connected to the corresponding logical ones
via user-defined \emph{reflect predicates}.
The symbolic representation can be manipulated 
by the computational engine of the language, 
allowing the user to automate low-level routine 
proof management by using various decision 
and simplification procedures.
Whenever the user needs to guide the proof 
it can switch to logical representation
and perform some proof steps manually. 

To achieve better automation and e.g. get \emph{proof irrelevance}
automatically, one is encouraged
to use \emph{decidable} and \emph{computable} procedures
whenever possible.
For example, in the context of our library, 
we encode the binary relations of the event structures
as decidable \texttt{bool}-valued relations, 
\ie $\caOrd, \cfRel : E \fun E \fun \texttt{bool}$,
as opposed to \emph{propositional} 
relations of type $E \fun E \fun \texttt{Prop}$. 

We also favour the computational encoding of semantics. 
Similarly to the recent related works on mechanisation 
of operational semantics~\cite{Xia-al:POPL2019, Letan-al:CPP2020, Affeldt-al:ICMPC2019}, 
we encode the semantics as monadic interpreters.  
This allows us to extract~\cite{Letouzey:CCE2008} 
the semantics as a functional program and run it. 
We believe that the possibility to run the semantics 
is a very useful feature, as it allows 
to debug the formal semantics
and helps to develop better intuition about it.

Finally, we use yet another feature of \mathcomp --- 
\emph{packed classes}~\cite{Garillot-al:ICTPHOL2009}, 
in order to encode the algebraic hierarchy
of various classes of event structures. 
